@model List<PgManagerApp.Models.CheckInOut>

<div class="container mt-4">
    <h4>Check In Check Out</h4>
    <div class="card">
        <div class="card-body">
            <form id="checkInForm" asp-action="AddCheckInOut">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="projectSelect" class="form-label">Employee Name</label>
                        <select class="form-select" id="projectSelect" name="EmpNameWithDes" required>
                            <option value="" disabled selected>Select Employee</option>
                            @foreach (var emp in ViewBag.Employees)
                            {
                                <option value="@emp.UserId - @emp.Name (@emp.Designation)">@emp.Name (@emp.Designation)</option>
                            }
                        </select>
                    </div>

                    <div class="form-group col-md-6">
                        <label for="currentDate">Current Date</label>
                        <input type="date" name="Date" class="form-control" id="currentDate" readonly>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="checkInTime">Check In Time</label>
                        <input type="time" name="CheckInTime" class="form-control" id="checkInTime" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="checkOutTime">Check Out Time</label>
                        <input type="time" name="CheckOutTime" class="form-control" id="checkOutTime" required>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Add Record</button>
            </form>
            <hr>
            <div class="table-responsive">
                <table class="table table-bordered mt-3" id="checkInOutTable">
                    <thead>
                        <tr>
                            <th class="bg-primary text-white">ID</th>
                            <th class="bg-primary text-white">Employee Name & Designation</th>
                            <th class="bg-primary text-white">Date</th>
                            <th class="bg-primary text-white">Check In</th>
                            <th class="bg-primary text-white">Check Out</th>
                            <th class="bg-primary text-white">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="checkInOutData">
                        @foreach (var data in Model)
                        {
                            <tr>
                                <td>@data.Id</td>
                                <td>@data.EmpNameWithDes</td>
                                <td>@data.Date</td>
                                <td>@data.CheckInTime</td>
                                <td>@data.CheckOutTime</td>
                                <td> Edit | Delete</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Include jQuery and Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

<style>
    .card {
        background-color: white; /* Card background color */
    }

    .table th, .table td {
        text-align: center; /* Center align table content */
    }
</style>
<script>
    // Set the current date to the date input field
    window.onload = function () {
        var today = new Date().toISOString().split('T')[0];
        document.getElementById("currentDate").value = today;
    };
</script>